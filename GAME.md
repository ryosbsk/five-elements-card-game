# 五行カードバトル開発指針

このファイルは五行カードバトルゲームの開発において、Claude Codeが参照すべき専用の指針です。

## ゲーム固有のUX原則

### 右利きプレイヤー最適化
- **戦闘エリア右側配置**: カードタップのメイン操作を右手で快適に
- **行動順左側配置**: 参照のみの情報は左側で邪魔にならない位置
- **ボタン配置戦略**: 
  - 左側: ゲーム再開（低頻度）
  - 右側: スキップ・ターン終了（高頻度）
- **操作動線**: 右手でカード攻撃 → そのまま右手でボタン操作

### 戦闘情報の視認性最優先
- **瞬時把握**: フェーズ・PP・撃破情報をバッジ形式で一目で認識
- **高コントラスト**: 白背景 + はっきりした境界線で情報を明確に分離
- **手札近接情報**: プレイヤー重要情報を手札上部に集約

### リアルタイム戦闘体験
- **行動順の重要性**: FF10風システムで次の行動者を明確表示
- **攻撃フロー**: カード選択 → 対象選択 → 結果確認の流れを重視
- **状態変化の追跡**: HP・PP・撃破数の変動を即座に反映

## 技術制約・要件

### GitHub Pages対応
- **英語ファイル名必須**: 日本語ファイル名はURLエンコードエラーの原因
- **音声ファイル**: select.mp3, summon.mp3, attack.mp3, victory.mp3, defeat.mp3, button.mp3
- **BGMファイル**: bgm.mp3（autoplay policy対応済み）

### フロントエンド構成
- **バニラJavaScript**: フレームワーク不使用、シンプルな構成
- **CSS Grid**: 3列レイアウト（行動順 | 戦闘エリア | 戦闘エリア）
- **イベントドリブン**: ユーザー操作中心の設計
- **レスポンシブ**: モバイル対応でタッチ操作を考慮

### 音響システム
- **SoundManager**: BGM・SE統合管理
- **音量制御**: BGM 0.05, SE 0.5 の適切なバランス
- **ユーザー操作開始**: 開始画面でautoplay policy回避

## デバッグ・開発支援

### 豊富なログ出力
- **戦闘フロー**: 🎯🔊⚔️💥 などの絵文字で視覚的ログ
- **状態変更**: オブジェクト内容を詳細出力
- **エラー判定**: 人間に分かりやすい日本語メッセージ

### 段階的開発アプローチ
- **Phase 1完了**: 基本戦闘システム（3vs3、PPシステム、勝利条件）
- **Phase 2計画**: 攻撃 vs PP生成選択システム
- **Phase 3構想**: 五行相剋システム

## 開発時の注意点

### コード品質
- **日本語コメント**: ゲーム要素の説明は日本語で分かりやすく
- **状態管理**: 中央集権的なgameStateオブジェクト
- **エラーハンドリング**: 防御的プログラミングでnullチェック必須

### ユーザビリティテスト観点
- **操作迷い**: 「次に何をすればいい？」が明確か
- **情報不足**: 「PP足りない？」「どのフェーズ？」への即答性
- **視認性**: ゲーム中の重要情報が瞬時に把握できるか

この指針により、五行カードバトルが「直感的で戦略的」なゲーム体験を提供できるよう開発を進めます。